-- title:   Blender's .obj to lua 
-- author:  PinguThePenguin_007 (discord: @PinguThePenguin#8639)
-- desc:    a program to port Blender's .objs to lua to use in your TIC-80 projects (or even something else)
-- site:    website link
-- license: MIT License 
-- version: 0.1
-- script:  lua

--[[
IN BLENDER: 
 - specify the colors as materials
 - export your sprites from your cart,
 then import in Blender for UVs
 - keep the UVs in bounds!!
 - note that Blender always applies 
 the modifiers on export for some reason (or idk)
 - ALWAYS CHECK YOUR NORMALS BEFORE EXPORTING
 - triangulate your objects pls!!! 
EXPORT:
 select your object
 in settings, tick these boxes:
  Selection Only
  Write Materials
 and if you need textures, tick this
  Include UVs
 export your object, and open it with 
 a text editor
 you can delete the .mtl file
 copy everything from the fourth line
 THE DATA HAS TO LOOK LIKE THE EXAMPLE
 (the hyphenations and stuff)
 OTHERWISE IT WILL BREAK 
EDITING:
 the controls are kinda 
 self-explanatory, the only thing i 
 should note is that the color 16 or 
 more enables UVs
EXPORTING (again):
 click the export button and look 
 in the console :D
EDITING THE WAY THE CART EXPORTS:
 FIND words if export then 
 v - verts
 t - tris
 i1-i3 are the vert ids
 n - normal (1 for default 0 for inverted 2 for both
 inc_UV - if true, include UVs 
 (set in the beginning by my .obj 
 reader)
 the other things are self-explanatory
]]

Objfile=[[

]]

package.path = "/home/pingu/tic80-folder/3d-renderer/?.lua"

require "renderer"

function Round(a)
 if a%1<.5 then return math.floor(a) else return math.ceil(a) end
end

Materials={--[[
{name="v1colour_tex",clr=16},
{name="v1_wingcolour_tex",clr=17},
--]]
}


function Loadobj()

	local tempuvdata={}

	Objects={
	 {
	  mesh={
	   verts={},
	   drawdata={},
	  },
	  position={0,0,0},
	  rotation={0,0,0},
	  scale=   {1,1,1},
	  name="",
	 },
	}

	Aclr=15
	Amat=""
	local temptable={}
	for word in string.gmatch(Objfile,"[^\n]+\n") do
		table.insert(temptable,word)
	end

	for _,s in pairs(temptable) do
		local type=string.match(s,"%g+")
		if type=="o" then
			local s1=string.match(s," (%g+)")
			Objects[1].name=s1
		elseif type=="v" then
			local s1,s2,s3=string.match(s," (%g+) (%g+) (%g+)")
			local d1,d2,d3=tonumber(s1),tonumber(s2),tonumber(s3)
			table.insert(Objects[1].mesh.verts,{x=d1,y=d2,z=d3})
		elseif type=="vt" then
			Inc_UV=true
			local s1,s2=string.match(s," (%g+) (%g+)")
			local d1,d2=tonumber(s1),tonumber(s2)
			table.insert(tempuvdata,{u=Round(d1*128),v=Round((1-d2)*128)})
		elseif type=="f" then
			if Inc_UV then
				local s1,s4,s2,s5,s3,s6=string.match(s," (%g+)/(%g+) (%g+)/(%g+) (%g+)/(%g+)")
				local d1,d2,d3,d4,d5,d6=
				tonumber(s1),tonumber(s2),tonumber(s3),tonumber(s4),tonumber(s5),tonumber(s6)
				local u1,v1,u2,v2,u3,v3=
				tempuvdata[d4].u,tempuvdata[d4].v,
				tempuvdata[d5].u,tempuvdata[d5].v,
				tempuvdata[d6].u,tempuvdata[d6].v

				local uv,c; if Aclr<16 then c=Aclr --Amat
					else; local offset=0; if Aclr==17 then offset=128 end;
					uv={u1,v1+offset,u2,v2+offset,u3,v3+offset} end
				table.insert(Objects[1].mesh.drawdata,{p={d1,d2,d3},n=0,c=c,uv=uv})
			else
				local s1,s2,s3=string.match(s," (%g+) (%g+) (%g+)")
				local d1,d2,d3=tonumber(s1),tonumber(s2),tonumber(s3)
				table.insert(Objects[1].mesh.drawdata,{p={d1,d2,d3},n=0,c=Aclr})
			end
		elseif type=="usemtl" then
			local s1=string.match(s," (%g+)")

			if Matload then
				local c
				if NumMat then
					local d1=tonumber(s1)
					if d1~=nil then c=d1 else c=16 end
				else c=15 end
				table.insert(Materials,{name=s1,clr=c}) Aclr=c
			else
				for _,m in pairs(Materials)  do
					if m.name==s1 then Aclr=m.clr Amat=m.name end
				end
			end
		end
	end
	Matload=false
end

Gridmesh={
verts={
{x=0 ,y=0 ,z=0 },
{x=25,y=0 ,z=0 },
{x=0 ,y=25,z=0 },
{x=0 ,y=0 ,z=25},
},
drawdata={
l={
{p={1,2},c=2},
{p={1,3},c=5},
{p={1,4},c=10},
}},
}

for x=-20,20 do
	local gridverts=#Gridmesh.verts

	Gridmesh.verts[gridverts+1]={x=x,y=0,z=(x==0 and -25) or -20}
	Gridmesh.verts[gridverts+2]={x=x,y=0,z=(x==0 and 0) or 20}

	local hidden,c; if x%10~=0 then c=15 hidden="hidesmall" else c=14 end
	Gridmesh.drawdata.l[#Gridmesh.drawdata.l+1]={p={gridverts+1,gridverts+2},c=c,hidden=hidden}

end
for z=-20,20 do
	local gridverts=#Gridmesh.verts

	Gridmesh.verts[gridverts+1]={x=(z==0 and -25) or -20,y=0,z=z}
	Gridmesh.verts[gridverts+2]={x=(z==0 and 0) or 20,y=0,z=z}

	local hidden,c; if z%10~=0 then c=15 hidden="hidesmall" else c=14 end
	Gridmesh.drawdata.l[#Gridmesh.drawdata.l+1]={p={gridverts+1,gridverts+2},c=c,hidden=hidden}

end

GridObject={
  mesh=Gridmesh,
  position={0,0,0},
  rotation={0,0,0},
  scale=1,
  hidesmall=false,
}

function ExportString(exportdump)
	local es="verts={"
	for _,list in pairs(exportdump.vertexdump) do
		for key,v in pairs(list) do if key~="object" then
			local x=Round(v.x*1000)/1000
			local y=Round(v.y*1000)/1000
			local z=Round(v.z*1000)/1000
			es=es.."\n {x="..x..",y="..y..",z="..z.."},"
		end; end
	end
	es=es.."\n},\ndrawdata={"
	for _,t in pairs(Objects[1].mesh.drawdata) do
		if t.c then
			es=es.."\n {p={"..t.p[1]..","..t.p[2]..","..t.p[3].."},n="..t.n
			..",c="..t.c.."},"
		else
			es=es.."\n {p={"..t.p[1]..","..t.p[2]..","..t.p[3].."},n="..t.n
			..",uv={"
			..t.uv[1]..","..t.uv[2]..","
			..t.uv[3]..","..t.uv[4]..","
			..t.uv[5]..","..t.uv[6].."}},"
		end
	end
	es=es.."\n}"
	return es
end

Camera={position={x=0,y=0,z=0},rotation={x=30,y=45,z=0},originoffset={x=0,y=0,z=-10},
FOV=120,CPlane=Renderer.CuttingPlanes.NearOnly}

T=0

NumMat=true
Matload=false
Loadobj()

Export=false

Menu={s=1,x=1,view=true,c=0}

function TIC()

	T=T+1

	local obj={
	 Objects[1].position,
	 Objects[1].rotation,
	 Objects[1].scale,
	}



	cls()

	Renderer.resetScene()
	Renderer.fullDraw({GridObject})

	Timemark=time()

	Renderer.resetScene()
	Renderer.fullDraw(Objects)

	Timemark=time()-Timemark


	if Export then

		local exportdump=Renderer.customScene()

		Objects[1].lock_to_camera=true

		Renderer.dumpObjectsTable(Objects,exportdump)

		Objects[1].lock_to_camera=false

		trace("---------------EXPORTED---------------",2)
		trace(ExportString(exportdump),4)

	Export=false; end



	local mx,my,mclick,_,_,_,scry=mouse()
	if mclick then
		Camera.rotation.y=Camera.rotation.y-((Oldmx or mx)-mx)
		Camera.rotation.x=Camera.rotation.x-((Oldmy or my)-my)
	end
	Oldmx,Oldmy=mx,my
	Camera.originoffset.z=math.min(0,Camera.originoffset.z+(scry*(0.05+(-Camera.originoffset.z/10))) )

	GridObject.hidesmall=Camera.originoffset.z<-40

	if Menu.view then

		if btn(0) then Camera.rotation.x=Camera.rotation.x-1 end
		if btn(1) then Camera.rotation.x=Camera.rotation.x+1 end
		if btn(2) then Camera.rotation.y=Camera.rotation.y-1 end
		if btn(3) then Camera.rotation.y=Camera.rotation.y+1 end
		if btn(4) then Camera.originoffset.z=Camera.originoffset.z+.1 end
		if btn(5) then Camera.originoffset.z=Camera.originoffset.z-.1 end

	else

		if btnp(0) then Menu.s=Menu.s-1 end
		if btnp(1) then Menu.s=Menu.s+1 end
		Menu.s=math.max(1,math.min(Menu.s,3+#Materials))

		if Menu.s>3 then
			if btnp(5) then Materials[Menu.s-3].clr=Materials[Menu.s-3].clr-1
				Loadobj() end
			if btnp(4) then Materials[Menu.s-3].clr=Materials[Menu.s-3].clr+1
				Loadobj() end
		else
			local mul=key(64)

			if btnp(2) then Menu.x=Menu.x-1 end
			if btnp(3) then Menu.x=Menu.x+1 end
			Menu.x=math.max(1,math.min(Menu.x,3))

			local add=Menu.s==2 and (mul and 45 or 1) or (mul and 1 or .01)
			if btnp(4,30,2) then obj[Menu.s][Menu.x]=Round((obj[Menu.s][Menu.x]+add)*100)/100
			end
			if btnp(5,30,2) then obj[Menu.s][Menu.x]=Round((obj[Menu.s][Menu.x]-add)*100)/100
			end

		end

	end

	if btnp(6) then Menu.view=not Menu.view end



	local nl=print(Objects[1].name,400,400)
	print(Objects[1].name,239-nl,1,12)

	if not Menu.view then
		print("position=",2,103,((Menu.s==1 and 12) or 14),false,1,true)
		print("rotation=",2,110,((Menu.s==2 and 12) or 14),false,1,true)
		print("scale=   ",2,117,((Menu.s==3 and 12) or 14),false,1,true)

		local xyz={"x","y","z"}
		local xyzcolors={[false]={1,7,8};[true]={2,5,10}}
		for menuy=1,3 do
			local o=0

			for menux=1,3 do
				o=o+print(xyz[menux].."="..obj[menuy][menux]*1000//1/1000 .." ",
				38+o,96+menuy*7,xyzcolors[Menu.s==menuy and Menu.x==menux][menux] )
			end

		end


		for id,m in pairs(Materials) do
			local c
			if id==Menu.s-3 then c=12 else c=14 end

			local ml=print(m.name.." - "..m.clr,300,300,c,false,1,true)
			print(m.name.." - "..m.clr,239-ml,3+7*id,c,false,1,true)
		end
		print("[ARROWS]-select [Z/X(A/B)]-increase/decrease",2,124,14,false,1,true)
	else
		print("[ARROWS]-rotate [Z/X(A/B)]-zoom in/out",2,124,14,false,1,true)
	end
	print("[A(X)]-switch [S(Y)]-export",2,130,12,false,1,true)

	print("Exported!",180,136-math.min(6,Menu.c),Menu.c,13)
	Menu.c=math.max(Menu.c-.5,0)

	if btnp(7) and Menu.c==0 then Export=true Menu.c=20 end

	if Perfdata==nil or T%30==0 then
		local loadp=( Timemark/(1000/60) )*100
		Perfdata="total:"..Timemark*1000//1/1000 .."/16.7 ms.\nload:"..Round(loadp).."%"
	end

	print("vertices:"..#Objects[1].mesh.verts.." tris:"..#Objects[1].mesh.drawdata,0,0,13)
	print(Perfdata,0,7,13)

end

function PureExport()

	local exportdump=Renderer.InitCustomScene()

	Objects[1].lock_to_camera=true

	Renderer.dumpObjectsTable(Objects,exportdump)

	Objects[1].lock_to_camera=false

	print(ExportString(exportdump))

end

if arg then PureExport() end



-- <TILES>
-- 002:000000000000000c0000000c0000000c0000000c0000000c0000000c0000000c
-- 003:00000000cccccccc33003cc233003cc233003cc233003cc003330cc0cccccccc
-- 004:00000000ccccc0002022c0002222c0002222c0002220c0000200c000ccccc000
-- 018:ccccccccc66660ccc66006ccc66006ccc66660ccc66006cccccccccc0000000c
-- 019:ccccccccdddddccadd000ccadddd0ccadd000ccadd000ccacccccccccccccc00
-- 020:cccccccca000cc22a000cc22a000cc22a000cc22aaaacc22cccccccc00000000
-- 021:cccc0000220c0000002c0000220c0000002c0000220c0000cccc000000000000
-- 034:0000000c0000000c0000000c0000000c0000000c0000000c0000000000000000
-- 035:44440c0044004c0044004c0044004c0044440c00cccccc000000000000000000
-- 048:aaaaaaaaaaaaaaaaacccccccacc0ccc0acc0ccc0acc0ccc0acccccccaaaaaaaa
-- 049:aaa00000aaa00000cca00000cca00000cca00000cca00000cca00000aaa00000
-- 064:aaacaaacaaaacccaaaaaaaaaaaaaaaaa00000000000000000000000000000000
-- 065:aaa00000aaa00000aaa00000aaa0000000000000000000000000000000000000
-- 080:6565656556565656656565655656565665656565565656566565656556565656
-- 096:eeeeee00eeeeee00eeddee00eeeeee00eeeeee00eeeeeee0e22e22e0eeeeeee0
-- 255:001122330011223344556677445566778899aabb8899aabbccddeeffccddeeff
-- </TILES>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- </WAVES>

-- <TRACKS>
-- 000:100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </TRACKS>

-- <SCREEN>
-- 000:00fff0000000000000ff00ff000fff000fff000fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:0ff000ffff000ffff0ff0fff00ff0ff0ff0ff0ff0ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:fffff0ff00f0fff0000000ff00fff0f0fff0f0fff0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:0ff000ff00f000fff0ff00ff00ff00f0ff00f0ff00f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:0ff000ffff00ffff00ff0ffff00fff000fff000fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:000000ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:0ff000000000ff0000000ff00fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc000000c0000000000c00000cc00000cc00c000cc0000000000c000cc000000000
-- 008:fffff0ffff000000ffff0ff0ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc0cc00ccc00cc0c0c000cc000c0000c0c0cc00c0c000000000cc00c00000000000
-- 009:0ff000ff00f0ff0fff000000ffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0c00cc00c00c0c0cc00c00cc00c0000c0c00c00c0c000ccc0000c00ccc000000000
-- 010:0ff000ff0000ff000fff0ff0ff00f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0c0c0c00c00cc00c000c0c0c00c0000c0c00c00c0c0000000000c00c0c000000000
-- 011:00fff0ff0000ff0ffff00ff00fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0c0ccc000c00cc0c000c0ccc0ccc0c0cc00ccc0cc0000000000ccc0ccc000000000
-- 044:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 045:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 046:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc0000333333ccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 047:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccc00000000000003333333ccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 048:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccc333333330000000000000003333333cccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 049:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccc33333333333333300000000000000033000000cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 050:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccc333333333333333300000000033333330ccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 051:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccccccccc33333333333333333333333333ccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 052:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccc3333333333333333333ccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 053:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccccccccccccccc30000000333ccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 054:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccc0000ccccccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 055:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccccccccccccccccccccccccccccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 056:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc6ccccccccccccccccccccccccccccccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 057:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc6666cccccccccccccccccccccccccccccccccccccccccdddcccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 058:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc666666ccccccccccccccccccccccccccccccccccccddddddcccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 059:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc666666666ccccccccccccccccccccccccccccccdddddddddcccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 060:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc666666666666ccccccccccccccccccccccccddddddddddddccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 061:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666666666666ccccccccccccccccccddddddddddddddddccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 062:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666666666666000ccccccccccccdddddddddddddddddd0ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 063:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc666666666666660000cccccccccddddddddddddddddd0000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 064:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc666666066666660000cccccccccdddddddddddddd0000000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 065:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc666666000066660000cccccccccddddddddddd0000000000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 066:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc666666600000660000cccccccccddddddddd000000000000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 067:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000000000cccccccccddddddddd000000000000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 068:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006600cccccccccddddddddd000000000000ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 069:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccddddddddd000000dd000cccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 070:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccddddddddd0000dddd000cccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 071:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccddddddddd0ddddddd000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 072:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccddddddddddddddddd000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 073:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccddddddddddddddddd000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 074:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc66666600000006666cccccccccdddddddddddddddd0000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 075:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc66666660000006666cccccccccddddddddddddd0000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 076:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc66666666600006666cccccccccddddddddddd000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 077:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc66666666666006666cccccccccddddddddd00000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 078:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc66666666666606666cccccccccddddddddd00000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 079:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc66666666666660666cccccccccddddddddd00000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 080:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc6666606666660006cccccccccddddddddd00000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 081:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccc6666600066660000cccccccccddddddddd0000000000cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 082:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccc66600006660000cccccccccddddddddd0000000000cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 083:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccc6660000060000cccccccccddddddddd00000000ccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 084:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc60000006000cccccccccddddddddd000000ccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 085:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccc0000006600cccccccccddddddddd0000ccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 086:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc00006666cccccccccddddddddd00ccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 087:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccc0006666cccccccccdddddddd0ccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 088:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc06666cccccccccdddddddccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 089:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc6666cccccccccdddddccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 090:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc66cccccccccdddccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 091:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccc6cccccccccdcccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 092:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 093:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 094:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 095:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 096:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 097:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 098:00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 099:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 103:000000ff0000000000000000000ff00ff000ff0000000000000000000000000000000fff0000000000000000fff0000000000000000fff00ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 104:000000f00ffff000fff000ffff0000fffff00000fff00ffff00fff0000ff0ff0fff0ff0ff0000f00ff0fff0ff0ff0000fffff0fff0ff0ff00f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 105:00000ff00ff00f0ff00f0fff000ff00ff000ff0ff00f0ff00f000000000fff000000fff0f0000f00ff00000fff0f000000ff000000fff0f00ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 106:000000f00ff00f0ff00f000fff0ff00ff000ff0ff00f0ff00f0fff00000fff00fff0ff00f0ff00ffff0fff0ff00f0ff00ff000fff0ff00f00f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 107:000000ff0ffff000fff00ffff00ff000fff0ff00fff00ff00f00000000ff0ff000000fff000f0000ff000000fff000f0fffff000000fff00ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 108:000000000ff000000000000000000000000000000000000000000000000000000000000000f000fff000000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 110:000000ff00000000000000ff0000000000ff000ff0000000000000000000000000000ff000fff000fff0000000000000000fff000fff0000000000000000fff00ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 111:000000f00ffff000fff00fffff00ffff0fffff00000fff00ffff00fff0ff0ff0fff0fff00ff00f0ff0ff0000f00ff0fff0ff00f0ff0ff0000fffff0fff0ff0ff00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 112:00000ff00ff00f0ff00f00ff000f00ff00ff000ff0ff00f0ff00f000000fff0000000ff000fff00fff0f0000f00ff000000ffff0fff0f000000ff000000fff0f00ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 113:000000f00ff0000ff00f00ff000f00ff00ff000ff0ff00f0ff00f0fff00fff00fff00ff00ff00f0ff00f0ff00ffff0fff00000f0ff00f0ff00ff000fff0ff00f00f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 114:000000ff0ff00000fff0000fff00ffff000fff0ff00fff00ff00f00000ff0ff00000ffff00fff000fff000f0000ff000000fff000fff000f0fffff000000fff00ff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 115:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000f000fff000000000000000000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 117:000000ff0000000000000000000ff0000000000000000000000000000000000000000ff000000fff0000000000000000ff0000000000000000ff00ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 118:000000f000ffff00ffff00ffff0ff0000fff00fff00000000000000000ff0ff0fff0fff00000ff0ff0000f00ff0fff0fff00000fffff0fff0fff000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 119:00000ff00fff000fff000f00ff0ff000ff0ff0000000000000000000000fff0000000ff00000fff0f0000f00ff000000ff0000000ff0000000ff000ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 120:000000f0000fff0fff000f00ff0ff000fff000fff000000000000000000fff00fff00ff00ff0ff00f0ff00ffff0fff00ff00ff00ff000fff00ff000f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 121:000000ff0ffff000ffff00ffff00fff00fff0000000000000000000000ff0ff00000ffff0ff00fff000f0000ff00000ffff00f0fffff00000ffff0ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 122:0000000000000000000000000000000000000000000000000000000000000000000000000000000000f000fff00000000000f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 124:00ee00e00ee00ee000e00e0e00ee0ee00000000000000e0000000e00000000ee0eee00000e0e00e00e000000ee00e00ee00000000000000000000000e000000000000000000e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 125:00e00e0e0e0e0e0e0e0e0e0e0e0000e00000e0e00e00eee0ee00eee00ee000e0000e000e0e0e0e00e0e000e0e0e00e00e00000eee00e000e00eee00000ee0000e00e00e0e0eee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 126:00e00eee0eee0eee0e0e0e0e00e000e0eee0ee00e0e00e000ee00e00e0e000e000e000e000e00e00eee00e00ee000e00e0eee00ee0e0e0e0e0eee000e0e0e00e00e0e0e0e00e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 127:00e00e0e0ee00ee00e0e0eee000e00e00000e000e0e00e00e0e00e00ee0000e00e000e000e0e0e00e0e0e000e0e00e00e00000e000e0e0e0e0e0e000e0e0e0e000e0e0e0e00e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 128:00ee0e0e0e0e0e0e00e00eee0ee00ee00000e0000e0000e0eee000e00ee000ee0eee00000e0e00e0e0e00000ee00e00ee00000eee00e000e00e0e000e0e0e000000e000ee000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 130:00cc00c000c0c0c0c00cc0000000000000c00c000000c00000cc00cc00c0c0c0c00cc00000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 131:00c00c0c0c00c0c00c00c000000cc0c0c000ccc00cc0cc0000c00c000c00c0c00c00c000000cc0c0c0cc000c00c0c0ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 132:00c00ccc0c000c000c00c0ccc0cc00c0c0c00c00c000c0c000c000c00c000c000c00c0ccc0c0c00c00c0c0c0c0cc000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 133:00c00c0c0c00c0c00c00c0000000c0ccc0c00c00c000c0c000c0000c0c000c000c00c00000cc00c0c0c0c0c0c0c0000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 134:00cc0c0c00c0c0c0c00cc00000cc00ccc0c000c00cc0c0c000cc0cc000c00c00c00cc000000cc0c0c0cc000c00c00000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 135:0000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </SCREEN>

-- <PALETTE>
-- 000:1a1c2c5d275db13e53ef7d57ffcd75a7f07038b76425717929366f3b5dc941a6f673eff7f4f4f494b0c2566c86333c57
-- </PALETTE>

